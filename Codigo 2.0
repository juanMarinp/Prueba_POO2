class Persona:
    def __init__(self,nombre,apellido,rut,edad):
        self.nombre = nombre
        self.apellido = apellido
        self.rut = rut
        self.edad = edad
        return
class Medico(Persona):
    def __init__(self,nombre,apellido,rut,edad,codigo_medico,especialidad):
        Persona.__init__(self,nombre,apellido,rut,edad)
        self.codigo_medico = codigo_medico
        self.especialidad = especialidad
    def mostrarDatos(self):
        print('INFORMACIÓN MEDICO:')
        print('Nombre:',self.nombre,self.apellido,'| Rut:',self.rut,'| Codigo:',self.codigo_medico,'| Especialidad:',self.especialidad)
        return
class Encargado(Persona):
    def __init__(self,nombre,apellido,rut,edad,codigo_cliente):
        Persona.__init__(self,nombre,apellido,rut,edad)
        self.codigo_cliente = codigo_cliente
    def mostrarDatos(self):
        print('INFORMACION ENCARGADO:')
        print('Nombre:',self.nombre,self.apellido,'| Edad:',self.edad,'| Codigo:',self.codigo_cliente)
        return
class Mascota:
    def __init__(self,nombre,codigoMascota,especie,raza,encargado):
        self.nombre = nombre
        self.codigoMascota = codigoMascota
        self.especie = especie
        self.raza = raza
        self.encargado = encargado
    def mostrarDatos(self):
        print('INFORMACION MASCOTA:')
        print('nombre:',self.nombre,'| Codigo:',self.codigoMascota,'| Raza:',self.raza,'| Encargado:',self.encargado)
        return
class Ficha:
    def __init__(self,folio,mascota,medico,fecha,diagnostico):
        self.folio = folio
        self.mascota = mascota
        self.medico = medico
        self.fecha = fecha
        self.diagnostico = diagnostico
        return
    def mostrarDatos(self):
        print('INFORMACION FICHA:')
        print('Folio Nº:',self.folio,'| Fecha: ',self.fecha,'| Diagnostico: ',self.diagnostico,'| Mascota:',self.mascota,'| Medico:',self.medico)
        return
listaMedico = [
Medico('Jesus','rojas','1-1',22,5001,'General'),
Medico('Juan','Marin','1-2',20,5002,'Cirugano')
]
listaEncargado = [
Encargado('sebastian','Pizarro','1-3',36,5003),
Encargado('Jose','dinamarca','1-4',25,5004)
]
listaMascota = [
Mascota('Cachupin',500,'Perro','Pastor Aleman',listaEncargado[0].rut),
Mascota('lula',501,'Gato','Burmes',listaEncargado[1].rut),
]
listaFicha = [
Ficha(100,listaMascota[0].codigoMascota,listaMedico[0].codigo_medico,'20/05/2021','fiebre'),
Ficha(101,listaMascota[1].codigoMascota,listaMedico[1].codigo_medico,'07/10/2021','estirilizacion')
]

#***************************Agregar cliente***************************

pregunta3 = input('Desea ingresar un nuevo cliente?[S/n]: ')

while pregunta3.upper() == 'S':
    codigo_encargado = int(input('Ingrese codigo: '))
    for x in listaEncargado:
        while x.codigo_cliente == codigo_encargado:
            print('...Codigo ya existe, ingrese otro...')
            codigo_encargado = int(input('Ingrese codigo: '))
    nombre_encargado = input('Inngrese nombre: ')
    apellido_encargado = input('Ingrese apellido: ')
    rut_encargado = input('Ingrese rut: ')
    for x in listaEncargado:
        while x.rut == rut_encargado:
            print('...Rut ya existe...')
            rut_encargado = input('Ingrese rut: ')
    edad_encargado = int(input('Ingrese edad: '))
    listaEncargado.append(Encargado(nombre_encargado,apellido_encargado,rut_encargado,edad_encargado,codigo_encargado))
    pregunta3 = input('Desea ingresar un nuevo cliente?[S/n]: ')


#***************************Agregar mascota***************************
listaCodigos = []
for x in listaEncargado:
    listaCodigos.append(x.codigo_cliente)
pregunta4 = input('Desea ingresar una nueva mascota?:[S/n]:')

while pregunta4.upper() == 'S':

    nombre_mascota = input('Ingrese nombre: ')
    codigo_mascota = int(input('Ingrese codigo: '))
    for x in listaMascota:
        while x.codigoMascota == codigo_mascota:
            print('...Codigo ya existe, ingrese otro...')    
            codigo_mascota = int(input('Ingrese codigo: '))
    especie_mascota = input('Ingrese especie: ')
    raza_mascota = input('Ingrese raza:')
    encargado_mascota = int(input('Ingrese codigo encargado: '))
    for x in listaEncargado:
        while encargado_mascota not in listaCodigos:
            print('...Encargado no existe...')
            encargado_mascota = int(input('Ingrese codigo encargado: '))

    listaMascota.append(Mascota(nombre_mascota,codigo_mascota,especie_mascota,raza_mascota,encargado_mascota))
    pregunta4 = input('Desea ingresar una nueva mascota?:[S/n]:')

#***************************buscar mascota por numero***************************
pregunta = input("Desea buscar una mascota?[S/n]:")

if pregunta.upper() == 'S': 

    buscarMascota = int(input("Ingrese el numero de la mascota: "))

    for x in listaMascota:
        if buscarMascota == x.codigoMascota:
            x.mostrarDatos()

#***************************Mostras medicos***************************
pregunta2 = input('Desea desplegar un listado de los medicos?:[S/n]')

if pregunta2.upper() == 'S':

    for x in listaMedico:
        x.mostrarDatos()
#***************************Crear ficha medica***************************

pregunta7 = input('Desea crear una ficha medica?[S/n]: ')

while pregunta7.upper() == 'S':
    listaCodigosFicha = []
    listaCodigosMedico = []
    listaCodigosMascota = []

    for x in listaFicha:
        listaCodigosFicha.append(x.folio)
    for x in listaMedico:
        listaCodigosMedico.append(x.codigo_medico)
    for x in listaMascota:
        listaCodigosMascota.append(x.codigoMascota)

    print(listaCodigosFicha)
    numero_folio = int(input('Ingrese numero de folio: '))
    while numero_folio in listaCodigosFicha:
        print('...Este codigo ya existe...')
        numero_folio = int(input('Ingrese numero de folio: '))
    mascota_folio = int(input('Ingrese el codigo de la mascota: '))
    while mascota_folio not in listaCodigosMascota:
        print('...Codigo no existe...')    
        mascota_folio = int(input('Ingrese el codigo de la mascota: '))
    medico_folio = int(input('Ingrese codigo del medico: '))
    while medico_folio not in listaCodigosMedico:
        print('...Codigo no existe...')
        medico_folio = int(input('Ingrese codigo del medico: '))
    fecha_folio = input('Ingrese fecha, formato: dd/mm/aaaa: ')
    diagnostico_folio = input('Ingrese diagnostico: ')

    listaFicha.append(Ficha(numero_folio,mascota_folio,medico_folio,fecha_folio,diagnostico_folio))

    pregunta7 = input('Desea crear una ficha medica?[S/n]: ')

#***************************Mostrar todas las fichas***************************

pregunta6 = input('Desea ver todas las fichas existentes?[S/n]: ')

if pregunta6.upper() == 'S':

    for x in listaFicha:
        x.mostrarDatos()
        print('*****************************************')


#***************************Buscar ficha***************************
pregunta5 = input('Desea buscar una ficha?[S/n]: ')

if pregunta5.upper() == 'S':

    numeroFicha = int(input('Ingrese el numero de la ficha: '))

    for x in listaFicha:
        if x.folio == numeroFicha:
            x.mostrarDatos()

